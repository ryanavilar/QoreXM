{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport React from \"react\";\nimport { client } from \"../qoreContext\";\n\nconst useCurrentUser = () => {\n  /*\n  * waiting for implementation:\n   const currentMembers = qoreContext.views.currentMember.useListRow();\n   const user = React.useMemo(() => {\n     return currentMembers.data[0];\n   }, [currentMembers.data]);\n  */\n  const [user, setUser] = React.useState();\n  React.useEffect(() => {\n    const {\n      endpoint,\n      organizationId,\n      projectId\n    } = client.project.config;\n    client.project.axios.request({\n      baseURL: endpoint,\n      url: `/orgs/${organizationId}/projects/${projectId}/me`,\n      method: \"GET\"\n    }).then(resp => {\n      setUser(resp.data.data);\n    });\n  }, []);\n  return user;\n};\n\nexport default function Home() {\n  const currentUser = useCurrentUser();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: {\n      currentUser\n    }\n  }, void 0, false);\n}","map":{"version":3,"sources":["/Users/ryan/Documents/Project/feedloop-template/qoreXM/pages/index.tsx"],"names":["React","client","useCurrentUser","user","setUser","useState","useEffect","endpoint","organizationId","projectId","project","config","axios","request","baseURL","url","method","then","resp","data","Home","currentUser"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAsBA,SAAsBC,MAAtB,QAAoC,gBAApC;;AAOA,MAAMC,cAAc,GAAG,MAAM;AAC3B;AACF;AACA;AACA;AACA;AACA;AACA;AACE,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBJ,KAAK,CAACK,QAAN,EAAxB;AAGAL,EAAAA,KAAK,CAACM,SAAN,CAAgB,MAAM;AACpB,UAAM;AAAEC,MAAAA,QAAF;AAAYC,MAAAA,cAAZ;AAA4BC,MAAAA;AAA5B,QAA0CR,MAAM,CAACS,OAAP,CAAeC,MAA/D;AACAV,IAAAA,MAAM,CAACS,OAAP,CAAeE,KAAf,CACGC,OADH,CACiE;AAC7DC,MAAAA,OAAO,EAAEP,QADoD;AAE7DQ,MAAAA,GAAG,EAAG,SAAQP,cAAe,aAAYC,SAAU,KAFU;AAG7DO,MAAAA,MAAM,EAAE;AAHqD,KADjE,EAMGC,IANH,CAMSC,IAAD,IAAU;AACdd,MAAAA,OAAO,CAACc,IAAI,CAACC,IAAL,CAAUA,IAAX,CAAP;AACD,KARH;AASD,GAXD,EAWG,EAXH;AAYA,SAAOhB,IAAP;AACD,CAxBD;;AA0BA,eAAe,SAASiB,IAAT,GAAgB;AAC7B,QAAMC,WAAW,GAAGnB,cAAc,EAAlC;AACA,sBACI;AAAA,cACC;AAACmB,MAAAA;AAAD;AADD,mBADJ;AAKD","sourcesContent":["import React from \"react\";\nimport { css } from \"@emotion/css\";\nimport stc from \"string-to-color\";\nimport {\n  Button,\n  Card,\n  Col,\n  Input,\n  Menu,\n  Row,\n  Skeleton,\n  Typography,\n  Avatar,\n  Tag,\n  Popconfirm,\n} from \"antd\";\nimport {\n  LoadingOutlined,\n  NumberOutlined,\n  PlusOutlined,\n  UserOutlined,\n} from \"@ant-design/icons\";\nimport qoreContext, { client } from \"../qoreContext\";\nimport dayjs from \"../dayjs\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport { ProjectSchema } from \"@feedloop/qore-client\";\nimport produce from \"immer\";\nimport { MenuProps } from \"rc-menu\";\n\nconst useCurrentUser = () => {\n  /*\n  * waiting for implementation:\n   const currentMembers = qoreContext.views.currentMember.useListRow();\n   const user = React.useMemo(() => {\n     return currentMembers.data[0];\n   }, [currentMembers.data]);\n  */\n  const [user, setUser] = React.useState<\n    ProjectSchema[\"memberDefaultView\"][\"read\"] | undefined\n  >();\n  React.useEffect(() => {\n    const { endpoint, organizationId, projectId } = client.project.config;\n    client.project.axios\n      .request<{ data: ProjectSchema[\"memberDefaultView\"][\"read\"] }>({\n        baseURL: endpoint,\n        url: `/orgs/${organizationId}/projects/${projectId}/me`,\n        method: \"GET\",\n      })\n      .then((resp) => {\n        setUser(resp.data.data);\n      });\n  }, []);\n  return user;\n};\n\nexport default function Home() {\n  const currentUser = useCurrentUser();\n  return (\n      <>\n      {{currentUser}}\n      </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}