{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/ryan/Documents/Project/feedloop-template/qoreXM/pages/index.tsx\";\nimport { client } from '../qoreContext';\nimport { useRouter } from 'next/router';\nimport LoggedIn from '../layouts/loggedin';\n\nconst useCurrentUser = () => {\n  /*\n  * waiting for implementation:\n  const currentMembers = qoreContext.views.currentMember.useListRow();\n  const user = React.useMemo(() => {\n   return currentMembers.data[0];\n  }, [currentMembers.data]);\n  */\n  const [user, setUser] = React.useState();\n  React.useEffect(() => {\n    const {\n      endpoint,\n      organizationId,\n      projectId\n    } = client.project.config;\n    client.project.axios.request({\n      baseURL: endpoint,\n      url: `/orgs/${organizationId}/projects/${projectId}/me`,\n      method: 'GET'\n    }).then(resp => {\n      setUser(resp.data.data);\n    });\n  }, []);\n  return user;\n};\n\nexport default function Home() {\n  const currentUser = useCurrentUser();\n  const router = useRouter();\n\n  if (currentUser !== null && currentUser !== void 0 && currentUser.email) {\n    router.push('/login');\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(LoggedIn, {\n      title: \"BOOM\",\n      content: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-semibold text-gray-900\",\n            children: \"Dashboardong\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"py-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-4 border-dashed border-gray-200 rounded-lg h-96\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}","map":{"version":3,"sources":["/Users/ryan/Documents/Project/feedloop-template/qoreXM/pages/index.tsx"],"names":["client","useRouter","LoggedIn","useCurrentUser","user","setUser","React","useState","useEffect","endpoint","organizationId","projectId","project","config","axios","request","baseURL","url","method","then","resp","data","Home","currentUser","router","email","push"],"mappings":";;;AACA,SAAqBA,MAArB,QAAkC,gBAAlC;AACA,SAAQC,SAAR,QAAwB,aAAxB;AAEA,OAAOC,QAAP,MAAqB,qBAArB;;AAEA,MAAMC,cAAc,GAAG,MAAM;AACzB;AACJ;AACA;AACA;AACA;AACA;AACA;AACI,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBC,KAAK,CAACC,QAAN,EAAxB;AACAD,EAAAA,KAAK,CAACE,SAAN,CAAgB,MAAM;AAClB,UAAM;AAACC,MAAAA,QAAD;AAAWC,MAAAA,cAAX;AAA2BC,MAAAA;AAA3B,QAAwCX,MAAM,CAACY,OAAP,CAAeC,MAA7D;AACAb,IAAAA,MAAM,CAACY,OAAP,CAAeE,KAAf,CACKC,OADL,CACiE;AACzDC,MAAAA,OAAO,EAAEP,QADgD;AAEzDQ,MAAAA,GAAG,EAAG,SAAQP,cAAe,aAAYC,SAAU,KAFM;AAGzDO,MAAAA,MAAM,EAAE;AAHiD,KADjE,EAMKC,IANL,CAMWC,IAAD,IAAU;AACZf,MAAAA,OAAO,CAACe,IAAI,CAACC,IAAL,CAAUA,IAAX,CAAP;AACH,KARL;AASH,GAXD,EAWG,EAXH;AAYA,SAAOjB,IAAP;AACH,CAtBD;;AAwBA,eAAe,SAASkB,IAAT,GAAgB;AAC3B,QAAMC,WAAW,GAAGpB,cAAc,EAAlC;AACA,QAAMqB,MAAM,GAAGvB,SAAS,EAAxB;;AACA,MAAIsB,WAAJ,aAAIA,WAAJ,eAAIA,WAAW,CAAEE,KAAjB,EAAwB;AACpBD,IAAAA,MAAM,CAACE,IAAP,CAAY,QAAZ;AACH;;AAED,sBACI;AAAA,2BACI,QAAC,QAAD;AACI,MAAA,KAAK,EAAC,MADV;AAEI,MAAA,OAAO,eACH;AAAA,gCACI;AAAK,UAAA,SAAS,EAAC,wCAAf;AAAA,iCACI;AAAI,YAAA,SAAS,EAAC,sCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBADJ,eAII;AAAK,UAAA,SAAS,EAAC,wCAAf;AAAA,iCACI;AAAK,YAAA,SAAS,EAAC,MAAf;AAAA,mCACI;AAAK,cAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAJJ;AAAA;AAHR;AAAA;AAAA;AAAA;AAAA;AADJ,mBADJ;AAmBH","sourcesContent":["import Reactq from 'react';\nimport qoreContext, {client} from '../qoreContext';\nimport {useRouter} from 'next/router';\nimport {ProjectSchema} from '@feedloop/qore-client';\nimport LoggedIn from '../layouts/loggedin';\n\nconst useCurrentUser = () => {\n    /*\n  * waiting for implementation:\n   const currentMembers = qoreContext.views.currentMember.useListRow();\n   const user = React.useMemo(() => {\n     return currentMembers.data[0];\n   }, [currentMembers.data]);\n  */\n    const [user, setUser] = React.useState<ProjectSchema['memberDefaultView']['read'] | undefined>();\n    React.useEffect(() => {\n        const {endpoint, organizationId, projectId} = client.project.config;\n        client.project.axios\n            .request<{data: ProjectSchema['memberDefaultView']['read']}>({\n                baseURL: endpoint,\n                url: `/orgs/${organizationId}/projects/${projectId}/me`,\n                method: 'GET',\n            })\n            .then((resp) => {\n                setUser(resp.data.data);\n            });\n    }, []);\n    return user;\n};\n\nexport default function Home() {\n    const currentUser = useCurrentUser();\n    const router = useRouter();\n    if (currentUser?.email) {\n        router.push('/login');\n    }\n\n    return (\n        <>\n            <LoggedIn\n                title=\"BOOM\"\n                content={\n                    <>\n                        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n                            <h1 className=\"text-2xl font-semibold text-gray-900\">Dashboardong</h1>\n                        </div>\n                        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n                            <div className=\"py-4\">\n                                <div className=\"border-4 border-dashed border-gray-200 rounded-lg h-96\"></div>\n                            </div>\n                        </div>\n                    </>\n                }\n            />\n        </>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}