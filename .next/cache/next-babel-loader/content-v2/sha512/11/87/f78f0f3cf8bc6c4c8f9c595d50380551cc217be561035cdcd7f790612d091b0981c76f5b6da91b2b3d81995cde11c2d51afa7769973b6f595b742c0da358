{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/ryan/Documents/Project/feedloop-template/qoreXM/pages/index.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React from 'react';\nimport { useRouter } from 'next/router';\nimport { Spin } from 'antd';\nimport { client } from '../qoreContext';\nimport LoggedIn from '../layouts/loggedin';\n\nvar useCurrentUser = function useCurrentUser() {\n  _s();\n\n  /*\n  * waiting for implementation:\n  const currentMembers = qoreContext.views.currentMember.useListRow();\n  const user = React.useMemo(() => {\n   return currentMembers.data[0];\n  }, [currentMembers.data]);\n  */\n  var router = useRouter();\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      user = _React$useState2[0],\n      setUser = _React$useState2[1];\n\n  React.useEffect(function () {\n    var _client$project$confi = client.project.config,\n        endpoint = _client$project$confi.endpoint,\n        organizationId = _client$project$confi.organizationId,\n        projectId = _client$project$confi.projectId;\n    client.project.axios.request({\n      baseURL: endpoint,\n      url: \"/orgs/\".concat(organizationId, \"/projects/\").concat(projectId, \"/me\"),\n      method: 'GET'\n    }).then(function (resp) {\n      setUser(resp.data.data);\n    })[\"catch\"](function () {\n      router.push('/login');\n    });\n  }, []);\n  return user;\n};\n\n_s(useCurrentUser, \"j9OvWbTsFvYyMqBaspp4ct74Be0=\", false, function () {\n  return [useRouter];\n});\n\nexport default function Home() {\n  _s2();\n\n  var currentUser = useCurrentUser();\n  if (currentUser === undefined) return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex-1 w-full m-auto\",\n      children: /*#__PURE__*/_jsxDEV(Spin, {\n        className: \"m-auto\",\n        size: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }, this)\n  }, void 0, false);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(LoggedIn, {\n      title: \"Qore XM | Dashboard\",\n      user: currentUser,\n      content: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-semibold text-gray-900\",\n            children: \"Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"py-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-4 border-dashed border-gray-200 rounded-lg h-96\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s2(Home, \"fds7nphu8utUA6vXZ6pm2+I3m+M=\", false, function () {\n  return [useCurrentUser];\n});\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/ryan/Documents/Project/feedloop-template/qoreXM/pages/index.tsx"],"names":["React","useRouter","Spin","client","LoggedIn","useCurrentUser","router","useState","user","setUser","useEffect","project","config","endpoint","organizationId","projectId","axios","request","baseURL","url","method","then","resp","data","push","Home","currentUser","undefined"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,SAAR,QAAwB,aAAxB;AAEA,SAAQC,IAAR,QAA0B,MAA1B;AACA,SAAqBC,MAArB,QAAkC,gBAAlC;AACA,OAAOC,QAAP,MAAqB,qBAArB;;AAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAAA;;AACzB;AACJ;AACA;AACA;AACA;AACA;AACA;AACI,MAAMC,MAAM,GAAGL,SAAS,EAAxB;;AARyB,wBASDD,KAAK,CAACO,QAAN,EATC;AAAA;AAAA,MASlBC,IATkB;AAAA,MASZC,OATY;;AAUzBT,EAAAA,KAAK,CAACU,SAAN,CAAgB,YAAM;AAAA,gCAC4BP,MAAM,CAACQ,OAAP,CAAeC,MAD3C;AAAA,QACXC,QADW,yBACXA,QADW;AAAA,QACDC,cADC,yBACDA,cADC;AAAA,QACeC,SADf,yBACeA,SADf;AAElBZ,IAAAA,MAAM,CAACQ,OAAP,CAAeK,KAAf,CACKC,OADL,CACiE;AACzDC,MAAAA,OAAO,EAAEL,QADgD;AAEzDM,MAAAA,GAAG,kBAAWL,cAAX,uBAAsCC,SAAtC,QAFsD;AAGzDK,MAAAA,MAAM,EAAE;AAHiD,KADjE,EAMKC,IANL,CAMU,UAACC,IAAD,EAAU;AACZb,MAAAA,OAAO,CAACa,IAAI,CAACC,IAAL,CAAUA,IAAX,CAAP;AACH,KARL,WASW,YAAM;AACTjB,MAAAA,MAAM,CAACkB,IAAP,CAAY,QAAZ;AACH,KAXL;AAYH,GAdD,EAcG,EAdH;AAeA,SAAOhB,IAAP;AACH,CA1BD;;GAAMH,c;UAQaJ,S;;;AAoBnB,eAAe,SAASwB,IAAT,GAAgB;AAAA;;AAC3B,MAAMC,WAAW,GAAGrB,cAAc,EAAlC;AACA,MAAIqB,WAAW,KAAKC,SAApB,EACI,oBACI;AAAA,2BACI;AAAM,MAAA,SAAS,EAAC,sBAAhB;AAAA,6BACI,QAAC,IAAD;AAAM,QAAA,SAAS,EAAC,QAAhB;AAAyB,QAAA,IAAI,EAAC;AAA9B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ,mBADJ;AAQJ,sBACI;AAAA,2BACI,QAAC,QAAD;AACI,MAAA,KAAK,EAAC,qBADV;AAEI,MAAA,IAAI,EAAED,WAFV;AAGI,MAAA,OAAO,eACH;AAAA,gCACI;AAAK,UAAA,SAAS,EAAC,wCAAf;AAAA,iCACI;AAAI,YAAA,SAAS,EAAC,sCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBADJ,eAII;AAAK,UAAA,SAAS,EAAC,wCAAf;AAAA,iCACI;AAAK,YAAA,SAAS,EAAC,MAAf;AAAA,mCACI;AAAK,cAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAJJ;AAAA;AAJR;AAAA;AAAA;AAAA;AAAA;AADJ,mBADJ;AAoBH;;IA/BuBD,I;UACApB,c;;;KADAoB,I","sourcesContent":["import React from 'react';\nimport {useRouter} from 'next/router';\nimport {ProjectSchema} from '@feedloop/qore-client';\nimport {Spin, Space} from 'antd';\nimport qoreContext, {client} from '../qoreContext';\nimport LoggedIn from '../layouts/loggedin';\n\nconst useCurrentUser = () => {\n    /*\n  * waiting for implementation:\n   const currentMembers = qoreContext.views.currentMember.useListRow();\n   const user = React.useMemo(() => {\n     return currentMembers.data[0];\n   }, [currentMembers.data]);\n  */\n    const router = useRouter();\n    const [user, setUser] = React.useState<ProjectSchema['memberDefaultView']['read'] | undefined>();\n    React.useEffect(() => {\n        const {endpoint, organizationId, projectId} = client.project.config;\n        client.project.axios\n            .request<{data: ProjectSchema['memberDefaultView']['read']}>({\n                baseURL: endpoint,\n                url: `/orgs/${organizationId}/projects/${projectId}/me`,\n                method: 'GET',\n            })\n            .then((resp) => {\n                setUser(resp.data.data);\n            })\n            .catch(() => {\n                router.push('/login');\n            });\n    }, []);\n    return user;\n};\n\nexport default function Home() {\n    const currentUser = useCurrentUser();\n    if (currentUser === undefined)\n        return (\n            <>\n                <main className=\"flex-1 w-full m-auto\">\n                    <Spin className=\"m-auto\" size=\"large\" />\n                </main>\n            </>\n        );\n\n    return (\n        <>\n            <LoggedIn\n                title=\"Qore XM | Dashboard\"\n                user={currentUser}\n                content={\n                    <>\n                        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n                            <h1 className=\"text-2xl font-semibold text-gray-900\">Dashboard</h1>\n                        </div>\n                        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n                            <div className=\"py-4\">\n                                <div className=\"border-4 border-dashed border-gray-200 rounded-lg h-96\"></div>\n                            </div>\n                        </div>\n                    </>\n                }\n            />\n        </>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}